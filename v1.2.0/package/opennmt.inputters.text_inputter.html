

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>opennmt.inputters.text_inputter module &mdash; OpenNMT-tf 1.2.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="opennmt.layers package" href="opennmt.layers.html" />
    <link rel="prev" title="opennmt.inputters.record_inputter module" href="opennmt.inputters.record_inputter.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> OpenNMT-tf
          

          
            
            <img src="../_static/logo-alpha.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../data.html">Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tokenization.html">Tokenization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training.html">Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inference.html">Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../serving.html">Serving</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="opennmt.html">opennmt package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="opennmt.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="opennmt.decoders.html">opennmt.decoders package</a></li>
<li class="toctree-l3"><a class="reference internal" href="opennmt.encoders.html">opennmt.encoders package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="opennmt.inputters.html">opennmt.inputters package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="opennmt.inputters.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="opennmt.layers.html">opennmt.layers package</a></li>
<li class="toctree-l3"><a class="reference internal" href="opennmt.models.html">opennmt.models package</a></li>
<li class="toctree-l3"><a class="reference internal" href="opennmt.tokenizers.html">opennmt.tokenizers package</a></li>
<li class="toctree-l3"><a class="reference internal" href="opennmt.utils.html">opennmt.utils package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="opennmt.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OpenNMT-tf</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="opennmt.html">opennmt package</a> &raquo;</li>
        
          <li><a href="opennmt.inputters.html">opennmt.inputters package</a> &raquo;</li>
        
      <li>opennmt.inputters.text_inputter module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-opennmt.inputters.text_inputter">
<span id="opennmt-inputters-text-inputter-module"></span><h1>opennmt.inputters.text_inputter module<a class="headerlink" href="#module-opennmt.inputters.text_inputter" title="Permalink to this headline">¶</a></h1>
<p>Define word-based embedders.</p>
<dl class="function">
<dt id="opennmt.inputters.text_inputter.visualize_embeddings">
<code class="descclassname">opennmt.inputters.text_inputter.</code><code class="descname">visualize_embeddings</code><span class="sig-paren">(</span><em>log_dir</em>, <em>embedding_var</em>, <em>vocabulary_file</em>, <em>num_oov_buckets=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#visualize_embeddings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.visualize_embeddings" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers an embedding variable for visualization in TensorBoard.</p>
<p>This function registers <code class="xref py py-obj docutils literal"><span class="pre">embedding_var</span></code> in the <code class="docutils literal"><span class="pre">projector_config.pbtxt</span></code>
file and generates metadata from <code class="xref py py-obj docutils literal"><span class="pre">vocabulary_file</span></code> to attach a label
to each word ID.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>log_dir</strong> – The active log directory.</li>
<li><strong>embedding_var</strong> – The embedding variable to visualize.</li>
<li><strong>vocabulary_file</strong> – The associated vocabulary file.</li>
<li><strong>num_oov_buckets</strong> – The number of additional unknown tokens.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="opennmt.inputters.text_inputter.load_pretrained_embeddings">
<code class="descclassname">opennmt.inputters.text_inputter.</code><code class="descname">load_pretrained_embeddings</code><span class="sig-paren">(</span><em>embedding_file</em>, <em>vocabulary_file</em>, <em>num_oov_buckets=1</em>, <em>with_header=True</em>, <em>case_insensitive_embeddings=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#load_pretrained_embeddings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.load_pretrained_embeddings" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns pretrained embeddings relative to the vocabulary.</p>
<p>The <code class="xref py py-obj docutils literal"><span class="pre">embedding_file</span></code> must have the following format:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>N M
word1 val1 val2 ... valM
word2 val1 val2 ... valM
...
wordN val1 val2 ... valM
</pre></div>
</div>
<p>or if <code class="xref py py-obj docutils literal"><span class="pre">with_header</span></code> is <code class="docutils literal"><span class="pre">False</span></code>:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>word1 val1 val2 ... valM
word2 val1 val2 ... valM
...
wordN val1 val2 ... valM
</pre></div>
</div>
<p>This function will iterate on each embedding in <code class="xref py py-obj docutils literal"><span class="pre">embedding_file</span></code> and
assign the pretrained vector to the associated word in <code class="xref py py-obj docutils literal"><span class="pre">vocabulary_file</span></code>
if found. Otherwise, the embedding is ignored.</p>
<p>If <code class="xref py py-obj docutils literal"><span class="pre">case_insensitive_embeddings</span></code> is <code class="docutils literal"><span class="pre">True</span></code>, word embeddings are assumed
to be trained on lowercase data. In that case, word alignments are case
insensitive meaning the pretrained word embedding for “the” will be assigned
to “the”, “The”, “THE”, or any other case variants included in
<code class="xref py py-obj docutils literal"><span class="pre">vocabulary_file</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>embedding_file</strong> – Path the embedding file. Entries will be matched against
<code class="xref py py-obj docutils literal"><span class="pre">vocabulary_file</span></code>.</li>
<li><strong>vocabulary_file</strong> – The vocabulary file containing one word per line.</li>
<li><strong>num_oov_buckets</strong> – The number of additional unknown tokens.</li>
<li><strong>with_header</strong> – <code class="docutils literal"><span class="pre">True</span></code> if the embedding file starts with a header line like
in GloVe embedding files.</li>
<li><strong>case_insensitive_embeddings</strong> – <code class="docutils literal"><span class="pre">True</span></code> if embeddings are trained on lowercase
data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A Numpy array of shape <code class="docutils literal"><span class="pre">[vocabulary_size</span> <span class="pre">+</span> <span class="pre">num_oov_buckets,</span> <span class="pre">embedding_size]</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="opennmt.inputters.text_inputter.tokens_to_chars">
<code class="descclassname">opennmt.inputters.text_inputter.</code><code class="descname">tokens_to_chars</code><span class="sig-paren">(</span><em>tokens</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#tokens_to_chars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.tokens_to_chars" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a list of tokens into unicode characters.</p>
<p>This is an in-graph transformation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tokens</strong> – A sequence of tokens.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The characters as a <code class="docutils literal"><span class="pre">tf.Tensor</span></code> of shape
<code class="docutils literal"><span class="pre">[sequence_length,</span> <span class="pre">max_word_length]</span></code> and the length of each word.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="opennmt.inputters.text_inputter.TextInputter">
<em class="property">class </em><code class="descclassname">opennmt.inputters.text_inputter.</code><code class="descname">TextInputter</code><span class="sig-paren">(</span><em>tokenizer=&lt;opennmt.tokenizers.tokenizer.SpaceTokenizer object&gt;</em>, <em>dtype=tf.float32</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#TextInputter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.TextInputter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="opennmt.inputters.inputter.html#opennmt.inputters.inputter.Inputter" title="opennmt.inputters.inputter.Inputter"><code class="xref py py-class docutils literal"><span class="pre">opennmt.inputters.inputter.Inputter</span></code></a></p>
<p>An abstract inputter that processes text.</p>
<dl class="method">
<dt id="opennmt.inputters.text_inputter.TextInputter.get_length">
<code class="descname">get_length</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#TextInputter.get_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.TextInputter.get_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="opennmt.inputters.text_inputter.TextInputter.make_dataset">
<code class="descname">make_dataset</code><span class="sig-paren">(</span><em>data_file</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#TextInputter.make_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.TextInputter.make_dataset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="opennmt.inputters.text_inputter.TextInputter.get_dataset_size">
<code class="descname">get_dataset_size</code><span class="sig-paren">(</span><em>data_file</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#TextInputter.get_dataset_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.TextInputter.get_dataset_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="opennmt.inputters.text_inputter.TextInputter.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>metadata</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#TextInputter.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.TextInputter.initialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="opennmt.inputters.text_inputter.TextInputter.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>inputs</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#TextInputter.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.TextInputter.transform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="opennmt.inputters.text_inputter.WordEmbedder">
<em class="property">class </em><code class="descclassname">opennmt.inputters.text_inputter.</code><code class="descname">WordEmbedder</code><span class="sig-paren">(</span><em>vocabulary_file_key</em>, <em>embedding_size=None</em>, <em>embedding_file_key=None</em>, <em>embedding_file_with_header=True</em>, <em>case_insensitive_embeddings=True</em>, <em>trainable=True</em>, <em>dropout=0.0</em>, <em>tokenizer=&lt;opennmt.tokenizers.tokenizer.SpaceTokenizer object&gt;</em>, <em>dtype=tf.float32</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#WordEmbedder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.WordEmbedder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#opennmt.inputters.text_inputter.TextInputter" title="opennmt.inputters.text_inputter.TextInputter"><code class="xref py py-class docutils literal"><span class="pre">opennmt.inputters.text_inputter.TextInputter</span></code></a></p>
<p>Simple word embedder.</p>
<dl class="method">
<dt id="opennmt.inputters.text_inputter.WordEmbedder.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>vocabulary_file_key</em>, <em>embedding_size=None</em>, <em>embedding_file_key=None</em>, <em>embedding_file_with_header=True</em>, <em>case_insensitive_embeddings=True</em>, <em>trainable=True</em>, <em>dropout=0.0</em>, <em>tokenizer=&lt;opennmt.tokenizers.tokenizer.SpaceTokenizer object&gt;</em>, <em>dtype=tf.float32</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#WordEmbedder.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.WordEmbedder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the parameters of the word embedder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>vocabulary_file_key</strong> – The data configuration key of the vocabulary file
containing one word per line.</li>
<li><strong>embedding_size</strong> – The size of the resulting embedding.
If <code class="docutils literal"><span class="pre">None</span></code>, an embedding file must be provided.</li>
<li><strong>embedding_file_key</strong> – The data configuration key of the embedding file.</li>
<li><strong>embedding_file_with_header</strong> – <code class="docutils literal"><span class="pre">True</span></code> if the embedding file starts with a
header line like in GloVe embedding files.</li>
<li><strong>case_insensitive_embeddings</strong> – <code class="docutils literal"><span class="pre">True</span></code> if embeddings are trained on
lowercase data.</li>
<li><strong>trainable</strong> – If <code class="docutils literal"><span class="pre">False</span></code>, do not optimize embeddings.</li>
<li><strong>dropout</strong> – The probability to drop units in the embedding.</li>
<li><strong>tokenizer</strong> – An optional <a class="reference internal" href="opennmt.tokenizers.tokenizer.html#opennmt.tokenizers.tokenizer.Tokenizer" title="opennmt.tokenizers.tokenizer.Tokenizer"><code class="xref py py-class docutils literal"><span class="pre">opennmt.tokenizers.tokenizer.Tokenizer</span></code></a> to
tokenize the input text.</li>
<li><strong>dtype</strong> – The embedding type.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> – if neither <code class="xref py py-obj docutils literal"><span class="pre">embedding_size</span></code> nor <code class="xref py py-obj docutils literal"><span class="pre">embedding_file_key</span></code>
are set.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="#opennmt.inputters.text_inputter.load_pretrained_embeddings" title="opennmt.inputters.text_inputter.load_pretrained_embeddings"><code class="xref py py-meth docutils literal"><span class="pre">opennmt.inputters.text_inputter.load_pretrained_embeddings()</span></code></a>
function for details about the pretrained embedding format and behavior.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="opennmt.inputters.text_inputter.WordEmbedder.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>metadata</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#WordEmbedder.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.WordEmbedder.initialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="opennmt.inputters.text_inputter.WordEmbedder.visualize">
<code class="descname">visualize</code><span class="sig-paren">(</span><em>log_dir</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#WordEmbedder.visualize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.WordEmbedder.visualize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="opennmt.inputters.text_inputter.WordEmbedder.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>inputs</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#WordEmbedder.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.WordEmbedder.transform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="opennmt.inputters.text_inputter.CharEmbedder">
<em class="property">class </em><code class="descclassname">opennmt.inputters.text_inputter.</code><code class="descname">CharEmbedder</code><span class="sig-paren">(</span><em>vocabulary_file_key</em>, <em>embedding_size</em>, <em>dropout=0.0</em>, <em>tokenizer=&lt;opennmt.tokenizers.tokenizer.SpaceTokenizer object&gt;</em>, <em>dtype=tf.float32</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#CharEmbedder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.CharEmbedder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#opennmt.inputters.text_inputter.TextInputter" title="opennmt.inputters.text_inputter.TextInputter"><code class="xref py py-class docutils literal"><span class="pre">opennmt.inputters.text_inputter.TextInputter</span></code></a></p>
<p>Base class for character-aware inputters.</p>
<dl class="method">
<dt id="opennmt.inputters.text_inputter.CharEmbedder.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>vocabulary_file_key</em>, <em>embedding_size</em>, <em>dropout=0.0</em>, <em>tokenizer=&lt;opennmt.tokenizers.tokenizer.SpaceTokenizer object&gt;</em>, <em>dtype=tf.float32</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#CharEmbedder.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.CharEmbedder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the parameters of the character embedder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vocabulary_file_key</strong> – The meta configuration key of the vocabulary file
containing one character per line.</li>
<li><strong>embedding_size</strong> – The size of the character embedding.</li>
<li><strong>dropout</strong> – The probability to drop units in the embedding.</li>
<li><strong>tokenizer</strong> – An optional <a class="reference internal" href="opennmt.tokenizers.tokenizer.html#opennmt.tokenizers.tokenizer.Tokenizer" title="opennmt.tokenizers.tokenizer.Tokenizer"><code class="xref py py-class docutils literal"><span class="pre">opennmt.tokenizers.tokenizer.Tokenizer</span></code></a> to
tokenize the input text.</li>
<li><strong>dtype</strong> – The embedding type.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="opennmt.inputters.text_inputter.CharEmbedder.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>metadata</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#CharEmbedder.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.CharEmbedder.initialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="opennmt.inputters.text_inputter.CharEmbedder.visualize">
<code class="descname">visualize</code><span class="sig-paren">(</span><em>log_dir</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#CharEmbedder.visualize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.CharEmbedder.visualize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="opennmt.inputters.text_inputter.CharEmbedder.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>inputs</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#CharEmbedder.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.CharEmbedder.transform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="opennmt.inputters.text_inputter.CharConvEmbedder">
<em class="property">class </em><code class="descclassname">opennmt.inputters.text_inputter.</code><code class="descname">CharConvEmbedder</code><span class="sig-paren">(</span><em>vocabulary_file_key</em>, <em>embedding_size</em>, <em>num_outputs</em>, <em>kernel_size=5</em>, <em>stride=3</em>, <em>dropout=0.0</em>, <em>tokenizer=&lt;opennmt.tokenizers.tokenizer.SpaceTokenizer object&gt;</em>, <em>dtype=tf.float32</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#CharConvEmbedder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.CharConvEmbedder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#opennmt.inputters.text_inputter.CharEmbedder" title="opennmt.inputters.text_inputter.CharEmbedder"><code class="xref py py-class docutils literal"><span class="pre">opennmt.inputters.text_inputter.CharEmbedder</span></code></a></p>
<p>An inputter that applies a convolution on characters embeddings.</p>
<dl class="method">
<dt id="opennmt.inputters.text_inputter.CharConvEmbedder.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>vocabulary_file_key</em>, <em>embedding_size</em>, <em>num_outputs</em>, <em>kernel_size=5</em>, <em>stride=3</em>, <em>dropout=0.0</em>, <em>tokenizer=&lt;opennmt.tokenizers.tokenizer.SpaceTokenizer object&gt;</em>, <em>dtype=tf.float32</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#CharConvEmbedder.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.CharConvEmbedder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the parameters of the character convolution embedder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vocabulary_file_key</strong> – The meta configuration key of the vocabulary file
containing one character per line.</li>
<li><strong>embedding_size</strong> – The size of the character embedding.</li>
<li><strong>num_outputs</strong> – The dimension of the convolution output space.</li>
<li><strong>kernel_size</strong> – Length of the convolution window.</li>
<li><strong>stride</strong> – Length of the convolution stride.</li>
<li><strong>dropout</strong> – The probability to drop units in the embedding.</li>
<li><strong>tokenizer</strong> – An optional <a class="reference internal" href="opennmt.tokenizers.tokenizer.html#opennmt.tokenizers.tokenizer.Tokenizer" title="opennmt.tokenizers.tokenizer.Tokenizer"><code class="xref py py-class docutils literal"><span class="pre">opennmt.tokenizers.tokenizer.Tokenizer</span></code></a> to
tokenize the input text.</li>
<li><strong>dtype</strong> – The embedding type.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="opennmt.inputters.text_inputter.CharConvEmbedder.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>inputs</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#CharConvEmbedder.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.CharConvEmbedder.transform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="opennmt.inputters.text_inputter.CharRNNEmbedder">
<em class="property">class </em><code class="descclassname">opennmt.inputters.text_inputter.</code><code class="descname">CharRNNEmbedder</code><span class="sig-paren">(</span><em>vocabulary_file_key</em>, <em>embedding_size</em>, <em>num_units</em>, <em>dropout=0.2</em>, <em>encoding='average'</em>, <em>cell_class=&lt;class 'tensorflow.python.ops.rnn_cell_impl.LSTMCell'&gt;</em>, <em>tokenizer=&lt;opennmt.tokenizers.tokenizer.SpaceTokenizer object&gt;</em>, <em>dtype=tf.float32</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#CharRNNEmbedder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.CharRNNEmbedder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#opennmt.inputters.text_inputter.CharEmbedder" title="opennmt.inputters.text_inputter.CharEmbedder"><code class="xref py py-class docutils literal"><span class="pre">opennmt.inputters.text_inputter.CharEmbedder</span></code></a></p>
<p>An inputter that runs a single RNN layer over character embeddings.</p>
<dl class="method">
<dt id="opennmt.inputters.text_inputter.CharRNNEmbedder.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>vocabulary_file_key</em>, <em>embedding_size</em>, <em>num_units</em>, <em>dropout=0.2</em>, <em>encoding='average'</em>, <em>cell_class=&lt;class 'tensorflow.python.ops.rnn_cell_impl.LSTMCell'&gt;</em>, <em>tokenizer=&lt;opennmt.tokenizers.tokenizer.SpaceTokenizer object&gt;</em>, <em>dtype=tf.float32</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#CharRNNEmbedder.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.CharRNNEmbedder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the parameters of the character RNN embedder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>vocabulary_file_key</strong> – The meta configuration key of the vocabulary file
containing one character per line.</li>
<li><strong>embedding_size</strong> – The size of the character embedding.</li>
<li><strong>num_units</strong> – The number of units in the RNN layer.</li>
<li><strong>dropout</strong> – The probability to drop units in the embedding and the RNN
outputs.</li>
<li><strong>encoding</strong> – “average” or “last” (case insensitive), the encoding vector to
extract from the RNN outputs.</li>
<li><strong>cell_class</strong> – The inner cell class or a callable taking <code class="xref py py-obj docutils literal"><span class="pre">num_units</span></code> as
argument and returning a cell.</li>
<li><strong>tokenizer</strong> – An optional <a class="reference internal" href="opennmt.tokenizers.tokenizer.html#opennmt.tokenizers.tokenizer.Tokenizer" title="opennmt.tokenizers.tokenizer.Tokenizer"><code class="xref py py-class docutils literal"><span class="pre">opennmt.tokenizers.tokenizer.Tokenizer</span></code></a> to
tokenize the input text.</li>
<li><strong>dtype</strong> – The embedding type.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> – if <code class="xref py py-obj docutils literal"><span class="pre">encoding</span></code> is invalid.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="opennmt.inputters.text_inputter.CharRNNEmbedder.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>inputs</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opennmt/inputters/text_inputter.html#CharRNNEmbedder.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#opennmt.inputters.text_inputter.CharRNNEmbedder.transform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="opennmt.layers.html" class="btn btn-neutral float-right" title="opennmt.layers package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="opennmt.inputters.record_inputter.html" class="btn btn-neutral" title="opennmt.inputters.record_inputter module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: v1.2.0
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../../v1.8.0/package/opennmt.inputters.text_inputter.html">v1.8.0</a></dd>
            <dd><a href="../../v1.7.0/package/opennmt.inputters.text_inputter.html">v1.7.0</a></dd>
            <dd><a href="../../v1.6.0/package/opennmt.inputters.text_inputter.html">v1.6.0</a></dd>
            <dd><a href="../../v1.5.0/package/opennmt.inputters.text_inputter.html">v1.5.0</a></dd>
            <dd><a href="../../v1.4.0/package/opennmt.inputters.text_inputter.html">v1.4.0</a></dd>
            <dd><a href="../../v1.3.0/package/opennmt.inputters.text_inputter.html">v1.3.0</a></dd>
            <dd><a href="opennmt.inputters.text_inputter.html">v1.2.0</a></dd>
            <dd><a href="../../v1.1.0/package/opennmt.inputters.text_inputter.html">v1.1.0</a></dd>
            <dd><a href="../../v1.0.0/package/opennmt.inputters.text_inputter.html">v1.0.0</a></dd>
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.2.0',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>